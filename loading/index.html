<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<style>
		@font-face {
			font-family: "Disket-Mono-Bold";
			src: url("../fonts/Disket-Mono-Bold.ttf");
		}

		body {
			background-color: rgb(8, 6, 10);
			display: flex;
			justify-content: center;
			overflow: hidden;
			height: 100vh;
			width: 100vw;
		}

		.text_1 {
			font-family: "Disket-Mono-Bold", sans-serif;
			font-weight: bold;
			font-size: 12vh;
			color: rgb(223, 46, 46);
			text-shadow: 3px 3px rgb(42, 28, 61);
			text-align: center;
		}
		#text_tips {
			font-family: 'Bahnschrift';
			font-size: 3vh;
			font-weight: lighter;
			font-stretch: extra-condensed;
			color: white;
			text-shadow: 2px 2px rgb(42, 28, 61);
			text-align: center;
			transition: opacity 1s ease-in-out;
			opacity: 1;
		}

		.info {
			font-family: 'Bahnschrift';
			font-size: 2.5vh;
			font-weight: lighter;
			font-stretch: extra-condensed;
			color: white;
			text-shadow: 2px 2px rgb(42, 28, 61);
			text-align: center;
		}
		.info-down{
			font-family: 'Bahnschrift';
			font-size: 2vh;
			font-weight: lighter;
			font-stretch: extra-condensed;
			color: rgb(155,155,155);
			position: absolute;
			top: 95%;
		}

		.centertext {
			position: absolute;
			margin-top: 40vh;
			text-align: center;
		}

		.gradient {
			position: absolute;
			width: 105vw;
			height: 105vh;

			background: linear-gradient(0deg,rgba(94, 23, 23, 0.5) 5%, rgba(0, 0, 0, 0) 70%);
		}

		canvas {
			width: 105vw;
			height: 105vh;
		}
	</style>
</head>
<body>
	<canvas id="grid"></canvas>
    <div class="gradient"></div>
	<div class="centertext">
		<span class="text_1">Z</span>
		<span class="text_1" style="color:white;">City</span>
        <div style="margin-top: -2vh;">
            <span class="info" id="info" style="font-weight: 500;">Official US #1 | Virginia</span>
            <br>
            <span class="info" id="map"></span>
            <br>
            <span id="text_tips" tip>Hey where tips?</span>
        </div>
	</div>
    <span class="info-down">zcity.fun</span>

    <script>
        const canvas = document.getElementById('grid');
        const ctx = canvas.getContext('2d');

        canvas.width = window.innerWidth+25;
        canvas.height = window.innerHeight+25;
        canvas.position = "absolute"

        const gridSize = 60;
        let offsetX = window.innerWidth;
        let offsetY = -window.innerHeight;
        const gridColor = 'rgba(99, 88, 104, 0.05)';

        function drawGrid() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            for (let x = offsetX % gridSize; x < canvas.width + gridSize; x += gridSize) {
                ctx.beginPath();
                ctx.moveTo(x, 0);
                ctx.lineTo(x, canvas.height);
                ctx.strokeStyle = gridColor;
                ctx.lineWidth = 2.5;
                ctx.stroke();
            }

            for (let y = offsetY % gridSize; y < canvas.height + gridSize; y += gridSize) {
                ctx.beginPath();
                ctx.moveTo(0, y);
                ctx.lineTo(canvas.width, y);
                ctx.strokeStyle = gridColor;
                ctx.lineWidth = 2.5;
                ctx.stroke();
            }

            offsetX -= Math.min(Math.max(Math.sin(Date.now() / 10000), -0.2), 0.2);
            offsetY += 0.2;

            requestAnimationFrame(drawGrid);
        }

        drawGrid();

        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });
    </script>

    <script>
        var tips = {
            "0": "You can check the pulse of a person if you press R while holding their hand or head",
            "1": "Food speeds up the recovery of stamina and blood",
            "2": "Bandages can be used as a splint",
            "3": "1/5 of a fentanyl syrette is the maximum before the overdose",
            "4": "That funny looking can of food might be something else...",
            "5": "3 painkiller bottles in a short amount of time can lead to a slight overdose",
            "6": "Join our Discord server, it has a lot of useful information",
            "7": "If a person is acting suspicious, it's not really a reason to kill",
            "8": "Reading item descriptions is very useful",
            "9": "Brains are very fragile",
            "10": "All of the available binds exist in the Discord server",
            "11": "\"bind e +use\" you dummy",
            "12": "You can stand up using \"fake\" console command",
            "13": "You don't have to obey an idiot with a gun",
            "14": "Proper medical care increases your karma",
            "15": "The doctor doesn't break ribs during CPR.",
            "16": "Cyanide works better indoors",
            "17": "Don't kick everyone, you'll lose your innocence",
            "18": "Don't forget that there are other traitor classes!",
            "19": "You have a variety of different items when you're the traitor. Check them out, they might be useful",
            "20": "You can bunt with your firearms using E+LMB",
            "21": "Harming others makes you lose your innocence, losing it means others can harm you without losing their karma",
            "22": "Make sure to double tap your enemy",
            "23": "Roleplaying isnt required, but it's nice for a more enjoyable time on the server",
            "24": "Kill yourself in front of everyone for comedy, using \"suicide\" console command",
            "25": "White noise means oxygen deprivation or brain damage",
            "26": "Adrenaline speeds up blood recovery, while also letting you stay conscious for longer even if you have less than 3 litres of blood",
            "27": "Adrenaline numbs the pain for the while, but it will always return after it",
            "28": "The one and only cause of death is brain death",
            "29": "Carbon gas will slowly lower your consciousness",
            "30": "Black pixelated noise is the consciousness meter",
            "31": "Karma works differently for police. Shooting someone is only allowed when you're directly threatened by them",
            "32": "It's ok to break a rib or two while doing CPR",
            "33": "You can earn points passively by playing the game, but you can also donate :3",
            "34": "Inspect your weapon to see how many bullets you have left"
        };

        var currentLang = navigator.language;
        function SelectTip() {
            var keys = Object.keys(tips);
            const key = keys[Math.floor(Math.random() * keys.length)];
            document.querySelectorAll('[tip]').forEach(element => {
                if (tips[key]) {
                    element.textContent = tips[key];
                }
            });
        }
        const changingText = document.getElementById('text_tips');
        function changeText(){
            changingText.style.opacity = 0;
            changingText.addEventListener('transitionend', handleTransitionEnd, { once: true });
            function handleTransitionEnd(){
                changingText.style.opacity = 1;
                SelectTip()
                startThink()
            }

        }

        function startThink(){
            setTimeout(() => {
                changeText()
            },12000)
        }
        setTimeout(() => {changeText()},500)


        const infoText = document.getElementById('info');
        const mapText = document.getElementById('map');
        function GameDetails( servername, serverurl, mapname, maxplayers, steamid, gamemode, volume, language ) {
            infoText.textContent = servername.split("|")[2].trim()
            mapText.textContent = "On map: " + mapname
            currentLang = language
        }
    </script>
</body>
</html>
